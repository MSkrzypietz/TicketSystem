{{define "ticketDetail"}}
    <div class="card card-cascade wider reverse">
        <div class="card-body card-body-cascade">
            <h4 class="card-title text-dark"><strong>{{.Reference}}</strong></h4>
            <hr>
            <p class="card-text">{{(index .MessageList 0).Text}}</p>
        </div>
        <div class="card-footer text-muted py-1">
            <small>Date: {{(index .MessageList 0).CreationDate}}  -  Email: {{.Client}}  -  Status: {{.Status}} - Editor: {{.Editor}}</small>
        </div>
    </div>
    <br>

    {{range $index, $element := .MessageList}}
        {{if gt $index 0}}
            <div class="card card-cascade wider reverse">
                <div class="card-body card-body-cascade">
                    <p class="card-text">{{.Text}}</p>
                </div>
                <div class="card-footer text-muted py-1">
                    <small>Date: {{.CreationDate}}  -  Editor: {{.Actor}}</small>
                </div>
            </div>
            <br>
        {{end}}
    {{end}}

    <form action="/addComment" method="post">
        <div class="card">
            <div class="card-header">
                New Comment
            </div>
            <div class="card-body py-0">
                <div class="md-form">
                    <textarea type="text" name="comment" id="form107" class="md-textarea form-control" rows="3"></textarea>
                    <label for="form107">Your message</label>
                </div>
                <div class="row d-flex align-items-center mb-3 mt-4">
                    <div class="col-md-12">
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-rounded z-depth-1a">Comment</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
{{end}}